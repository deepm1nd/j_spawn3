---
id: Trait_DevPlanner_TaskPromptFileStructure
name: "DevPlanner - Task Prompt File Structure"
category: "component_behaviors_dev_planner"
source_file: "promptu_dev/components/add_ons/dev_planner/dev_planner.txt"
source_section: "III.B"
description: "Defines the mandatory structure and content sections for task prompt files generated by dev_planner, including overview, sub-dev plan directive, execution instructions, methodology guide consultation, output management, IEP adherence, Next Steps doc, inter-AI comm, retry logic, path referencing, risk assessment, and inheritable add-on inclusion with placeholder resolution."
strictness_default: "Rule"
version: "1.0"
keywords: ["dev_planner", "output document", "task prompt", "structure", "content requirements", "placeholders"]
related_traits: ["Trait_DevPlanner_PathConstructionPrinciple", "Trait_DevPlanner_TLPFileStructure"]
---
**Full Directive Text:**
B.  **Task Prompt Files (`.txt`):**
    *   **Base Location for Task Prompts:** The directory `[Resolved_DP_Base_Output_Path]/[Resolved_DP_Task_Prompts_Subdir]/`. All individual task prompt files and the TLP will be saved here.
    *   **For Each Task, Generate a Prompt File Containing:**
        1.  **Task Overview:** Purpose, contribution, reference to Main Dev Plan. If applicable, relevant initial research... Crucially, all work for this task MUST adhere to the specifications found in `[Resolved_DP_Project_Specifications_Ref]`...
        2.  **Sub-Development Plan Directive:** "Create `<PhaseTaskName>_dev_plan.md` in ... `[Resolved_DP_Submodule_Plans_Subdir]/`... MUST be guided by examples in `[Resolved_DP_Plan_Exemplars_Dir]` and align with `[Resolved_DP_Project_Specifications_Ref]`."
        3.  **Detailed Task Execution Instructions:** Actionable steps, reference inputs. Consistent with `[Resolved_DP_Project_Specifications_Ref]`.
        3.a. **Consult Relevant Methodology Guides:** (Populated if specific guides from `Resolved_DP_Plan_Methodology_Guides` are relevant).
        4.  **Output Management:** "Place new, task-specific files in ... `[Resolved_DP_Task_Artifacts_Subdir]/<PhaseTaskName>/`..."
        5.  **IEP Adherence:** "Follow `information_exchange_protocol.md`... Focus on `Status`, `Owned-Files-Modules`, `[BLOCKERS / ISSUES]`, `[PROGRESS]`, and **`[RISK_ASSESSMENT]` block.**"
        6.  **"Next Steps, Learnings & Improvements" Doc Directive:** "Create `<PhaseTaskName>_next_steps.md`... Must include sections: `### Potential Next Steps & Enhancements`, `### Key Learnings & Discoveries`..., `### AI-Automated PR Suggestions`, `### Other General Recommendations`."
        7.  **Inter-AI Comm Directive:** "Use ... `ipc/` for persistent logs/artifacts..."
        8.  **Retry Logic:** "```If retrying post-crash, investigate git log, ... dev_plan.md, ... output directory, ... logs ... Continue without repeating.```"
        9.  **Path Referencing:** Append ", it is in the repo." to file paths.
        10. **Risk Assessment Directive:** "For each commit, assess risk ... Include in commit message: `[RISK_ASSESSMENT]` block..."
        11. **Append Selected Add-ons:**
            a.  Retrieve `Inheritable_Addons_Content_Ordered_List`.
            b.  For each `add_on_content_string`:
                i.  **Resolve Placeholders:** (Detailed list of placeholders like `[Actual Path to Prompts Folder]`, `[Project Name Placeholder]`, and specific ones for `create_research_report` like `[Worker_Task_Specific_KB_Output_Path_Placeholder]`, `[Worker_Task_Specific_Domain_Name_Placeholder]`, `[Shared_Master_Domain_Log_Path_Placeholder]`).
                ii. Append the placeholder-resolved `add_on_content_string`.

**Implementation Notes:**
- Specifies the base location for task prompts.
- Details 11 mandatory sections/elements for each generated task prompt file:
    1. Task Overview (must adhere to specs).
    2. Sub-Development Plan Directive (guided by exemplars, align with specs).
    3. Detailed Task Execution Instructions (consistent with specs).
    3.a. Consult Relevant Methodology Guides (if applicable).
    4. Output Management (specific artifact subdirectories).
    5. IEP Adherence (focus on specific blocks like RISK_ASSESSMENT).
    6. "Next Steps, Learnings & Improvements" Doc Directive.
    7. Inter-AI Comm Directive (IPC directory).
    8. Retry Logic.
    9. Path Referencing (append ", it is in the repo.").
    10. Risk Assessment Directive (for commit messages).
    11. Append Selected Add-ons (with extensive placeholder resolution, including special handling for `create_research_report` when spawned by a worker task).
- This is a comprehensive checklist for prompt generation.
EOL
